enableRuns: true
runs:
  buildahImage:
    name: builah-sthings-argocd-v2.7.9-23.0731.1322
    addRandomDateToRunName: false
    namespace: tektoncd
    kind: Pipeline
    ref: build-buildah-image-inline
    params:
      gitRepoUrl: git@github.com:stuttgart-things/stuttgart-things.git
      gitRevision: main
      context: /buildah/sthings-argocd/images/sthings-argocd
      gitWorkspaceSubdirectory: /buildah/sthings-argocd
      image: scr.app.4sthings.tiab.ssc.sva.de/sthings-argocd/sthings-argocd
      dockerfile: images/sthings-alpine/Dockerfile
      tlsVerify: false
      storagDriver: overlay
      registry: scr.app.4sthings.tiab.ssc.sva.de
      registryInlineSecret: scr-labda-inline
    workspaces:
      sshCredentials:
        workspaceKind: secret
        workspaceRef: github-ssh
      sharedWorkspace:
        workspaceKind: persistentVolumeClaim
        workspaceRef: buildah-tekton
  kanikoImage:
    name: kaniko-sthings-argocd-v2.7.9-23.0731.1322
    addRandomDateToRunName: false
    namespace: tektoncd
    kind: Pipeline
    ref: build-kaniko-image
    params:
      gitRepoUrl: git@github.com:stuttgart-things/stuttgart-things.git
      gitRevision: main
      context: /kaniko/sthings-argocd/images/sthings-argocd
      gitWorkspaceSubdirectory: /kaniko/sthings-argocd
      image: scr.app.4sthings.tiab.ssc.sva.de/sthings-alpine/ansible
      tag: v2.7.9
      registry: eu.gcr.io
      dockerfile: images/sthings-alpine/Dockerfile
    workspaces:
      sshCredentials:
        workspaceKind: secret
        workspaceRef: github-ssh
      sharedWorkspace:
        workspaceKind: persistentVolumeClaim
        workspaceRef: buildah-tekton
      dockerconfig:
        workspaceKind: secret
        workspaceRef: scr-labda
