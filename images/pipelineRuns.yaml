---
enableRuns: true

runs:
  buildbuildahImage:
    name: buildah-testrun-7
    addRandomDateToRunName: false
    namespace: tektoncd
    kind: Pipeline
    ref: build-buildah-image-inline
    params:
      gitRepoUrl: git@github.com:stuttgart-things/stuttgart-things.git
      gitRevision: main
      context: /buildah/sthings-alpine/images/sthings-alpine
      gitWorkspaceSubdirectory: /buildah/sthings-alpine
      image: scr.app.4sthings.tiab.ssc.sva.de/sthings-alpine/sthings-alpine:12.6.11
      dockerfile: images/sthings-alpine/Dockerfile
      tlsVerify: false
      storagDriver: overlay
      registry: scr.app.4sthings.tiab.ssc.sva.de
      registryInlineSecret: scr-labda-inline
    workspaces:
      sshCredentials:
        workspaceKind: secret
        workspaceRef: github-ssh
      sharedWorkspace:
        workspaceKind: persistentVolumeClaim
        workspaceRef: buildah-tekton
  buildKanikoImageGithub6:
    name: kaniko-testrun-github-11
    addRandomDateToRunName: false
    namespace: tektoncd
    kind: Pipeline
    ref: build-kaniko-image
    params:
      gitRepoUrl: git@github.com:stuttgart-things/stuttgart-things.git
      gitRevision: main
      context: /kaniko/sthings-alpine-github/images/sthings-alpine
      gitWorkspaceSubdirectory: /kaniko/sthings-alpine-github
      image: scr.app.4sthings.tiab.ssc.sva.de/sthings-alpine/ansible
      tag: 123
      registry: eu.gcr.io
      dockerfile: images/sthings-alpine/Dockerfile
    workspaces:
      sshCredentials:
        workspaceKind: secret
        workspaceRef: github-ssh
      sharedWorkspace:
        workspaceKind: persistentVolumeClaim
        workspaceRef: buildah-tekton
      dockerconfig:
        workspaceKind: secret
        workspaceRef: scr-labda