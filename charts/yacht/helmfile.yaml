---
repositories:
- name: redis
  url: https://charts.bitnami.com/bitnami
- name: stuttgart-things
  url: eu.gcr.io/stuttgart-things
  oci: true

releases:
- name: yacht-redis
  namespace: redis # should be changed
  chart: redis/redis
  values:
    - master:
        persistence:
          enabled: false
          medium: ""
      replica:
        replicaCount: 2
        persistence:
          enabled: false
          medium: ""

# - name: yacht-tekton-base
#   namespace: tekton-pipelines
#   chart: stuttgart-things/yacht-tekton-base
#   version: v0.47.0-2

- name: yacht-tekton-resources
  namespace: yacht-tekton
  chart: stuttgart-things/yacht-tekton-resources
  version: v0.47.0-2
  values:
    - enableTasks: true
      enableWorkspaces: false
      enablePipelines: false
  # needs:
  #   - tekton-pipelines/yacht-tekton-base

- name: yacht-application-server
  namespace: yacht
  chart: stuttgart-things/yacht-application-server
  version: 0.3.7
  values:
    - ingress:
        yacht-application-server:
          domain: mgmt.4sthings.tiab.ssc.sva.de
  # needs:
  #   - yacht/redis
