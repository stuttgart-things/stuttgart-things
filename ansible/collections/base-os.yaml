---
name: base_os
version: 0.1.6
namespace: sthings
requirements: |
  roles:
    - src: https://github.com/stuttgart-things/download-install-binary.git
      scm: git
      version: 2024.07.04
    - src: https://github.com/stuttgart-things/create-os-user.git
      scm: git
      version: 2024.04.25
      
playbooks:
  - name: download_install_binaries
    play: |
      - hosts: all
        become: true
        vars:
          download_dir: "/tmp/downloads"
        vars_files:
          - ../vars/binaries.yaml
      
        roles:
          - role: sthings.base_os.download_install_binaries

vars: 
  - name: download_install_binaries
    vars: |
      users:
        - username: rke
          name: rke user
          groups: ['{{ admin_group }}', 'k8s-admins']
          uid: 1005
          home: /home/rke
          profile: |
            alias ll='ls -ahl'
          generate_ssh_key: true
          enable_ssh_tcp_forwarding: true
