# - hosts: all
#   become: true

#   pre_tasks:
#     - name: Include vars
#       ansible.builtin.include_vars: "{{ path_to_vars_file }}.yaml"
#       when: path_to_vars_file is defined

#   vars:
#     rke_version: 2
#     rke2_k8s_version: 1.28.4
#     rke2_airgapped_installation: true
#     rke2_release_kind: rke2r1 # rke2r2
#     disable_rke2_components:
#       - rke2-ingress-nginx
#       - rke-snapshot-controller
#     cluster_setup: multinode
#     deploy_helm_charts: false

#   roles:
#     - role: deploy-configure-rke

- hosts: localhost
  vars:
    helm_repositories:
      bitnami:
        url: https://charts.bitnami.com/bitnami
      rancher:
        url: https://releases.rancher.com/server-charts/stable

    helm_releases:
      metallb:
        ref: bitnami/metallb
        version: 4.7.0
        namespace: metallb-system
        ignore: true
        wait: true
        values: |
      rancher:
        ref: rancher/rancher
        version: 2.7.5
        namespace: cattle-system
        ignore: true
        values: |
      #     ---
