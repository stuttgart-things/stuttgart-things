---
releases:
- name: tekton-base
  namespace: tekton-pipelines
  chart: stuttgart-things/yacht-tekton-base
  version: v0.47.0-2
  installed: true

- name: tekton-resources
  namespace: yacht
  chart: stuttgart-things/yacht-tekton-resources
  version: v0.47.1
  installed: true
  needs:
    - tekton-pipelines/tekton-base
  values:
    - "values/{{`{{ .Release.Name }}`}}.yaml.gotmpl"

- name: redis
  namespace: yacht
  chart: redis/redis
  installed: false
  values:
    - "values/{{`{{ .Release.Name }}`}}.yaml.gotmpl"

- name: yas
  namespace: yacht
  chart: stuttgart-things/yacht-application-server
  version: 0.3.8
  installed: true
  values:
    - "values/{{`{{ .Release.Name }}`}}.yaml.gotmpl"

- name: yd
  namespace: yacht
  chart: stuttgart-things/yacht-dispatcher
  version: 0.1.6
  installed: true
  values:
    - "values/{{`{{ .Release.Name }}`}}.yaml.gotmpl"
  needs:
    - yacht/yas

helmDefaults:
  kubeContext: default
  verify: false
  wait: false
  timeout: 600
  recreatePods: false
  force: true

environments:
  default:
    values:
      - environments/{{ .Environment.Name }}.yaml
  labda:
    values:
      - environments/{{ .Environment.Name }}.yaml

repositories:
- name: redis
  url: https://charts.bitnami.com/bitnami
- name: stuttgart-things
  url: eu.gcr.io/stuttgart-things
  oci: true