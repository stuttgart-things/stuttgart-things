---
name: Manage GitHub Runners
on:
  workflow_dispatch:
    inputs:
      runner:
        description: name of runner for this workflow
        type: string
        default: ghr-stuttgart-things-sthings-cicd
      runner-config:
        description: runner config file
        type: string
        default: .github/workflows/config/runners.yaml


jobs:
  Create-Runner-Config:
    # permissions:
    #   contents: write
    #   pull-requests: write
    runs-on: ${{ inputs.runner }}
    environment: k8s
    container:
      image: eu.gcr.io/stuttgart-things/machineshop:v1.7.2
    continue-on-error: false
    steps:
      - name: Checkout code
        id: checkout
        uses: actions/checkout@v4.1.1

      - name: Render runner config
        id: render
        run: |
          cat ${{ inputs.runner-config }}