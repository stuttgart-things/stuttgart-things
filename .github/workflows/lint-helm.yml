name: Validation & Build
on:
 push:
   branches: [ main ]

jobs:
 helm-lint:
   name: Helm lint and release
   runs-on: ubuntu-latest

   steps:
     - uses: actions/checkout@v2
     - name: Get Charts
       id: fmt
       run: ls -lta
       continue-on-error: true
     - uses: actions/checkout@v3
     - name: Setup helmfile
       uses: mamezou-tech/setup-helmfile@v1.2.0
     - name: Test
       run: |
         helmfile --version
         helm version
         kubectl version --client
         helm template charts/tekton-base
     
