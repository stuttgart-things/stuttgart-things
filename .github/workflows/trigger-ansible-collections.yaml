---
name: Build Ansible Collection
on:
  workflow_dispatch:
  push:
    paths:
    - 'ansible/collections'
  pull_request:
    paths:
    - 'ansible/collections'
env:
  environment: k8s

jobs:
  Build-Collection:
    name: Build Ansible Collection
    uses: stuttgart-things/stuttgart-things/.github/workflows/build-ansible-collection.yaml@main
    with:
      runs-on: ghr-stuttgart-things-sthings-cicd
      environment-name: ${environment}
      continue-error: false
      collection-file: ansible/collections/base-os.yaml
