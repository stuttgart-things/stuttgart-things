name: Trigger Terraform Execution
on:
  pull_request:
    types:
      - opened
      - reopened

jobs:
  Get-Terraform-Config:
    if: contains(github.event.pull_request.labels.*.name, 'terraform')
    environment: k8s
    container:
      image: eu.gcr.io/stuttgart-things/machineshop:v1.7.2-2
    runs-on: ghr-stuttgart-things-sthings-cicd
    steps:
      - name: Set Execution Details
        id: set
        run: |
            echo ${{ github.event.pull_request.head.ref }}