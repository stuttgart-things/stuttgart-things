---
apiVersion: tekton.dev/v1
kind: PipelineRun
metadata:
  name: bootstrap-flux-cluster-dev21-15
  namespace: tekton
spec:
  workspaces:
    - name: source
      emptyDir: {}
  pipelineRef:
    resolver: git
    params:
      - name: url
        value: https://github.com/stuttgart-things/stuttgart-things.git
      - name: revision
        value: main
      - name: pathInRepo
        value: stageTime/pipelines/bootstrap-flux-cluster.yaml
  params:
    - name: githubRepository
      value: stuttgart-things
    - name: githubRepositoryOwner
      value: stuttgart-things
    - name: githubFluxBoostrapPath
      value: clusters/labul/vsphere/dev21
    - name: vaultSecretPaths
      value:
        - "git/data/github:token+-false+-GITHUB_TOKEN"
        - "kubeconfigs/data/dev21:kubeconfig+-true+-KUBECONFIG"
        - "apps/data/flux:vault-flux-secrets+-true+-vault-flux-secrets.yaml"
        - "apps/data/flux:scr-flux-secrets+-true+-scr-flux-secrets.yaml"
        - "apps/data/flux:github-flux-secrets+-true+-github-flux-secrets.yaml"
    - name: additionalManifestFiles
      value:
        - "vault-flux-secrets.yaml"
        - "scr-flux-secrets.yaml"
        - "github-flux-secrets.yaml"

# name:
# namespace:
# workspaces:
#- source
# pipelineRef:
# if resolver
# params-string
# - githubRepository
# - githubRepositoryOwner
# - githubFluxBoostrapPath
# params-array
# - vaultSecretPaths (array)