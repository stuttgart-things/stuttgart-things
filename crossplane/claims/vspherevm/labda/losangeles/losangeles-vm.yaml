---
apiVersion: tf.upbound.io/v1beta1
kind: ProviderConfig
metadata:
  name: incluster-losangeles16
  namespace: crossplane-system
spec:
  configuration: |
    terraform {
      backend "kubernetes" {
        secret_suffix     = "losangeles16"
        namespace         = "crossplane-system"
        in_cluster_config = true
      }
    }
---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: VsphereVMAnsible
metadata:
  name: losangeles16
  namespace: crossplane-system
spec:
  providerRef:
    name: incluster-losangeles16
  vm:
    count: "1"
    name: losangeles16
    cpu: "2"
    ram: "4096"
    disk: "32"
    firmware: bios
    folderPath: stuttgart-things/testing
    datacenter: /NetApp-HCI-Datacenter
    datastore: /NetApp-HCI-Datacenter/datastore/DatastoreCluster/NetApp-HCI-Datastore-01
    resourcePool: Resources
    network: /NetApp-HCI-Datacenter/network/tiab-prod
    template: /NetApp-HCI-Datacenter/vm/stuttgart-things/vm-templates/ubuntu23
    bootstrap: '["echo STUTTGART-THINGS"]'
    annotation: VSPHERE-VM BUILD w/ CROSSPLANE FOR STUTTGART-THINGS
    unverifiedSsl: "true"
  ansible:
    k8sProviderRef: kubernetes-incluster
  tfvars:
    secretName: vsphere-tfvars
    secretNamespace: crossplane-system
    secretKey: terraform.tfvars
  connectionSecret:
    name: losangeles16
    namespace: crossplane-system
  compositionRef:
    name: vsphere-vm-ansible