# ---
# apiVersion: resources.stuttgart-things.com/v1alpha1
# kind: AnsibleRun
# metadata:
#   name: pdns-entry-labul-vsphere-itnovative3
#   namespace: default
# spec:
#   pipelineRunName: pdns-entry-labul-vsphere-itnovative-3
#   inventory:
#     - "all+[\"localhost\"]"
#   playbooks:
#     - "ansible/playbooks/pdns-ingress-entry.yaml"
#   ansibleVarsFile:
#     - pdns_url+-https://pdns-vsphere.labul.sva.de:8443
#     - entry_zone+-sthings-vsphere.labul.sva.de.
#     - ip_address+-10.31.102.10
#     - hostname+-itnovative3
#   gitRepoUrl: https://github.com/stuttgart-things/stuttgart-things.git
#   gitRevision: main
#   providerRef:
#     name: kubernetes-incluster
#   vaultSecretName: vault
#   pipelineNamespace: tektoncd
#   workingImage: eu.gcr.io/stuttgart-things/sthings-ansible:9.2.0
#   roles:
#     - "https://github.com/stuttgart-things/install-configure-powerdns.git"
---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: NfsCsiConfig
metadata:
  name: andre-dev
  namespace: crossplane-system
spec:
  clusterName: andre-dev
  storageClass:
    name: nfs-csi
    server: /data/col1/sthings
    share: 10.31.101.26
    reclaimPolicy: Delete
    volumeBindingMode: Immediate
---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: NetworkStackMNPC
metadata:
  name: andre-dev
  namespace: crossplane-system
spec:
  clusterName: andre-dev
  ipPoolName: ip-pool-1
  ipRanges:
    - 10.31.103.8-10.31.103.9
  issuerName: vault-approle
  approle:
    secretName: certmanager-labul-vsphere
    secretNamespace: crossplane-system
    pkiPath: pki/sign/sthings-vsphere.labul.sva.de
    vaultAddr: https://vault-vsphere.labul.sva.de:8200
    approleID: 1d42d7e7-8c14-e5f9-801d-b3ecef416616
---
apiVersion: helm.crossplane.io/v1beta1
kind: ProviderConfig
metadata:
  name: andre-dev
spec:
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: andre-dev
      key: andre-dev
---
apiVersion: kubernetes.crossplane.io/v1alpha1
kind: ProviderConfig
metadata:
  name: andre-dev
spec:
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: andre-dev
      key: andre-dev
