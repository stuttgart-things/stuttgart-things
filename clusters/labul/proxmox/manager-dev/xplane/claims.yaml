---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: Tekton
metadata:
  name: in-cluster
  namespace: crossplane-system
spec:
  clusterName: in-cluster
  version: v0.65.1
  deploymentNamespace: tekton-pipelines
  vaultSecret:
    vaultAddr: https://vault-vsphere.labul.sva.de:8200
    approleID: 1d42d7e7-8c14-e5f9-801d-b3ecef416616
    vaultNamespace: root
    secretName: tekton-vault
    secretNamespace: crossplane-system
---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: MetalLBconfig
metadata:
  name: fluxdev-2
  namespace: crossplane-system
spec:
  clusterName: fluxdev-2
  ipPoolName: pool1
  version: 6.3.15
  ipRanges:
    - 10.31.102.8-10.31.102.8
---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: IngressNginx
metadata:
  name: fluxdev-2
  namespace: crossplane-system
spec:
  clusterName: fluxdev-2
  version: 4.11.3
---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: CertManagerConfig
metadata:
  name: fluxdev-2
  namespace: crossplane-system
spec:
  clusterName: fluxdev-2
  issuerName: vault-approle
  version: v1.16.1
  approle:
    secretName: certmanager
    secretNamespace: crossplane-system
    pkiPath: pki/sign/sthings-vsphere.labul.sva.de
    vaultAddr: https://vault-vsphere.labul.sva.de:8200
    approleID: 1d42d7e7-8c14-e5f9-801d-b3ecef416616
---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: OpenEbs
metadata:
  name: in-cluster
  namespace: crossplane-system
spec:
  clusterName: in-cluster
  version: 4.1.1
  parameters:
    mayastor: false
    volumeSnapshots: false
    lvmEnabled: false
    zfsEnabled: false
---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: NfsCsiConfig
metadata:
  name: fluxdev-2
  namespace: crossplane-system
spec:
  clusterName: fluxdev-2
  version: v4.9.0
  storageClass:
    name: nfs-csi
    server: 10.31.101.26
    share: /data/col1/sthings
    reclaimPolicy: Delete
    volumeBindingMode: Immediate
---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: Vault
metadata:
  name: fluxdev-2
  namespace: crossplane-system
spec:
  clusterName: fluxdev-2
  deploymentNamespace: vault
  domainName: fluxdev-2.sthings-vsphere.labul.sva.de
  storageClass: nfs-csi
  version: 0.28.0
  cert:
    secretName: vault-ingress-tls
    issuerName: vault-approle
---
apiVersion: resources.stuttgart-things.com/v1alpha1
kind: Harbor
metadata:
  name: fluxdev-2
  namespace: crossplane-system
spec:
  clusterName: fluxdev-2
  deploymentNamespace: harbor
  hostName: scr
  domainName: fluxdev-2.sthings-vsphere.labul.sva.de
  storageClass: nfs-csi
  storageSizeRegistry: 2Gi
  storageSizeTrivy: 1Gi
  version: 24.0.2
  adminPassword:
    secretName: harbor
    secretNamespace: crossplane-system
    secretKey: password
  cert:
    secretName: scr.fluxdev-2.sthings-vsphere.labul.sva.de-tls
    issuerName: vault-approle