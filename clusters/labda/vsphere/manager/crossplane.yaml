---
apiVersion: kustomize.toolkit.fluxcd.io/v1
kind: Kustomization
metadata:
  name: crossplane
  namespace: flux-system
spec:
  interval: 1h
  retryInterval: 1m
  timeout: 5m
  sourceRef:
    kind: GitRepository
    name: flux-system
  path: ./apps/crossplane
  prune: true
  wait: true
  postBuild:
    substitute:
      S3_SECRET_NAME: s3
  patches:
    - patch: |-
        - op: replace
          path: /spec/chart/spec/version
          value: 1.15.1
      target:
        kind: HelmRelease
        name: crossplane-deployment
        namespace: crossplane-system
    - patch: |-
        - op: replace
          path: /spec/values/provider/packages
          value:
            - xpkg.upbound.io/crossplane-contrib/provider-kubernetes:v0.13.0
            - xpkg.upbound.io/crossplane-contrib/provider-helm:v0.18.0
      target:
        kind: HelmRelease
        name: crossplane-deployment
        namespace: crossplane-system
  healthChecks:
    - apiVersion: helm.toolkit.fluxcd.io/v2beta1
      kind: HelmRelease
      name: crossplane-deployment
      namespace: crossplane-system
    - apiVersion: apps/v1
      kind: Deployment
      name: crossplane
      namespace: crossplane-system
---
apiVersion: v1
kind: Secret
metadata:
    name: s3
    namespace: crossplane-system
data:
    AWS_ACCESS_KEY_ID: ENC[AES256_GCM,data:C2kDM7/+BCKAcsL3,iv:Uz4qomUPCGZZGEjnxddz18uExkyFxniCkv3xTpPg+a0=,tag:LBrFBjpNST9hKFCVqXRYJg==,type:str]
    AWS_SECRET_ACCESS_KEY: ENC[AES256_GCM,data:NGgvCnHENLdfxSO+,iv:6QuB0WZIjrux+JNOEv3TUl4jOOYOkANtuuJ+Ez9svVA=,tag:lyFn0N8Aej/WwN2AfuIIcg==,type:str]
type: Opaque
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1g438n4lx6h7x7u42q652e9ygzrkkwlul49e8zsmsrfmxm9k3tvcsykhff4
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSAwZWJSNGJzc3hFOVYzaXEy
            bnIvTkxxakxKNEVIeHZLYUM4dFQ5Z2NHOHlJCnlkZ3ZvRUJnY3NpR3R6SDN6bFFC
            R2xLWFhLcFBoVjhlbVRRNnZwK3hYdlUKLS0tIHQ0Qmo1QWJoSmh4TVMwTjV2NlNE
            eFE5cUFLZ2k3U1V5bnBhVVZJZDNhaDgKWpQ6H0XWJGx55O4hSn+r2qV0isCIT8Ha
            vm0BaWdER9jksefcOWlVnQlHWc70w+Ah0SSrGtXeS/3VrX6S9sPHsg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-02-27T13:17:55Z"
    mac: ENC[AES256_GCM,data:8NEb1XV7a/2UwNpPfPLSPwES+i4/wuwDGfza7ssYTYvZJylQj05B8g/0JyPeFHCVUkK0fsk3kadBnhUx792V/TJ9JVXaKSYeEIiWmxZpZYN/zMp4JeFWsRR8EGLzvnYRN6+pLCKQMRIAENY8I+hue9nyvuN46mEgytLPFJvsCZI=,iv:h4tXQyiaFpubpglgH+yASNDfD9XgK/IY82Q2t1NNN5Q=,tag:t+Jw7p9QmGVTzPJkBTvWaA==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData)$
    version: 3.8.1
---
apiVersion: v1
data:
    labda-test: ENC[AES256_GCM,data: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,iv:+aiv4IWKOq0rNAYF4y2hs99sko/oNE1N2TZEj2Z86YA=,tag:s/XRM7gFMzzVXXbdlDWYRQ==,type:str]
kind: Secret
metadata:
    name: kubeconfig-labul-apptest
    namespace: crossplane-system
type: Opaque
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1g438n4lx6h7x7u42q652e9ygzrkkwlul49e8zsmsrfmxm9k3tvcsykhff4
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBRWnBTdkl6V2FxVkJzd3hB
            L2hsL3UzU2RKVks4UXd4ZDVDOFE1NWMyY20wCkF6a1VURU1LUVRxZVE0VDBRRmFa
            eXZVQlFCaUhFQlo2dHNHbkc2SmZya0EKLS0tIGd2OEw5RFMwdFQzV0tNSE43VlRG
            cXpNSXpXUW5PcFBvd3JKT3g0eW5uSk0Kwq6/Jrs0HH8U6Bbc7cCM6MGhM/3myUCU
            hzjN/bNa6Suwq9dJIOKP517qCPHrErVveQaYMSqMGTHgI4/hH1sAiw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-05-03T06:57:14Z"
    mac: ENC[AES256_GCM,data:XDDnhDcabRecvcjDu96nTZBLDvHiXUIuBJ/nTEc0nml0APbdKB6+rGHZcDBtMBQQLbnPzCNWSRSmttSM9IPAqYsQgMeO4UHGGE+Tv8HaT+1zTU6TXJCPYFpI+8vRFxBtJ4kejdskL1vR4xji8CdFgxaMbf2k++KsdlxgN5QOqtQ=,iv:Jqq30+P9bjC10Y3pKlmkCWOjJeEKJ3PqvKToTzZovk8=,tag:MiFnMrlAnMD2/0vPtIAm6Q==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData)$
    version: 3.8.1
---
apiVersion: v1
kind: Secret
metadata:
    name: vsphere-tfvars
    namespace: crossplane-system
stringData:
    terraform.tfvars: ENC[AES256_GCM,data:SJoUEePy2Lf5StKgPz6H37JMU0VImS9Jjr6ciD3u1p/dvV6Eg8o7tw2mDe4TnygA45YM7r8J/mAU99WxhMmoXVgeBLWVgCWw5u+93CoFSukGgS4RuiqIgVEaftcBE5qCqZsElWyiWIhjMI7mQ8znvgVO88CVaK4VxaB75/Rr2GO4a++dArLx2j8Dfv/7vUZYi8Js8efhwo3fnI7EYPEu,iv:Vi7N84gyacVLug6VhlVAZEJA6aW3YzJ5XlkMJ7W3ldE=,tag:u7DhIa34UvxFJXxIRfMIZA==,type:str]
type: Opaque
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1g438n4lx6h7x7u42q652e9ygzrkkwlul49e8zsmsrfmxm9k3tvcsykhff4
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBVdmZKa2FnV24waCtLRjND
            REpwSmF2YUVpeC9CcDJNR0RlQk9mRjBKK1NvCmZzTWtocVdpQlRzczc5RHZxQlUr
            em41bDN2Q2NmU0VjZ2Q0ekRUUVZCZW8KLS0tIGR0T1pNK2ZicVNMQ054cGh4ZzVh
            aEphbHkzcHl4QlBCb0xvbU1pNTg4R1EK6VlFETe/1N5zH1qE/6tAgr/WIx9IG0bO
            ioBBTWeml6RoHUz/ywZzaMpvMAg+UahdtSCHz20mW0LNWq+DI0ieQQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-04-10T15:26:28Z"
    mac: ENC[AES256_GCM,data:2lq4eAm7I7LlYshxGdgTREl6EAhHzu+F3JZr0uTcdjiSYbtkwrCzceD3ab8UZkMBBUm5ONfrKHDZx8HtnhTRu3IY5RKkGkH1Qf8UqRD5M5zVEmbfK9B8GctSYHty1mnvJdCKaEYvRL/HOobPSjlBLCOghNAG4ZLcyE15fwYZOUo=,iv:3uMIwFE2FyM/s1IUmWW30k7H+QwuWUWrWRt3SZVjDAo=,tag:uw9Dcr90W2740AXaec8Klg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData)$
    version: 3.8.1